<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traffic Accident Data Visualization</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <nav>
            <ul>
                <li><a href="#visualizations">Visualizations</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="/chat">Chatbot</a></li>
            </ul>
        </nav>
        <h1 class="fade-in">Traffic Accident Data Visualization</h1>
    </header>

    <main>
        <section id="about" class="fade-in">
            <h2>About the Data</h2>
            <p>This dashboard provides insights into traffic accident data. Hover over the images to explore specific statistics on road names, crash types, weather conditions, and more. The visualizations are designed to help identify trends and hotspots to improve road safety.</p>
        </section>
        <section id="visualizations" class="gallery">
            <h2>Visualizations</h2>
            <h3>Hover for more information!!</h3>
            <div class="image-grid">
                <div class="image-item flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <img src="{{ url_for('images', filename='top_road_names.png') }}" alt="Top 5 Road Names">
                        </div>
                        <div class="flip-card-back">
                            <h3>Top 5 Road Names</h3>
                            <p>The bar chart displays the five roads with the highest number of accidents. 'Georgia Ave' appears twice in different sections (likely different segments of the same road), indicating that it is a significant hotspot for accidents, followed by 'New Hampshire Ave' and 'Frederick Ave' with slightly lower accident counts. </p>
                        </div>
                    </div>
                </div>
                <div class="image-item flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <img src="{{ url_for('images', filename='crash_trends.png') }}" alt="Monthly Crash Trends">
                        </div>
                        <div class="flip-card-back">
                            <h3>Monthly Crash Trends</h3>
                            <p>This line plot illustrates the number of traffic accidents per month over time. The x-axis represents the date, and the y-axis shows the total number of crashes, helping to identify accident trends over the year.</p>
                        </div>
                    </div>
                </div>
                <div class="image-item flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <img src="{{ url_for('images', filename='crash_type_distribution.png') }}" alt="Crash Type Distribution">
                        </div>
                        <div class="flip-card-back">
                            <h3>Crash Type Distribution</h3>
                            <p>The bar chart categorizes crash types into three categories: Fatal Crashes, Injury Crashes, and Property Damage Only Crashes. The vast majority of incidents fall into the Property Damage Only category, followed by Injury Crashes, while Fatal Crashes occur much less frequently.</p>
                        </div>
                    </div>
                </div>
                <div class="image-item flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <img src="{{ url_for('images', filename='surface_condition_distribution.png') }}" alt="Surface Condition Distribution">
                        </div>
                        <div class="flip-card-back">
                            <h3>Surface Condition Distribution</h3>
                            <p>This bar chart illustrates the surface conditions at the time of accidents. Dry surfaces account for the majority of accidents, with much fewer incidents occurring under Wet or Other surface conditions, suggesting that most accidents happen in favorable road conditions.</p>
                        </div>
                    </div>
                </div>
                <div class="image-item flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <img src="{{ url_for('images', filename='weather_conditions.png') }}" alt="Weather Conditions">
                        </div>
                        <div class="flip-card-back">
                            <h3>Weather Conditions</h3>
                            <p>This plot displays the frequency of accidents occurring under different weather conditions, such as clear, rainy, or snowy. Understanding weather patterns helps to determine how weather impacts accident rates.</p>
                        </div>
                    </div>
                </div>
                <div class="image-item flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <img src="{{ url_for('images', filename='crash_count_by_route_type.png') }}" alt="Crash Count by Route Type">
                        </div>
                        <div class="flip-card-back">
                            <h3>Crash Count by Route Type</h3>
                            <p>This bar chart shows the number of crashes by route type, such as highways or local roads. It helps to identify which types of roads have the most accidents, useful for improving road safety and planning.</p>
                        </div>
                    </div>
                </div>

                <!-- Dynamically including bar plots -->
                {% for i in range(1,3) %}
                <div class="image-item flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <img src="{{ url_for('images', filename='barplot_' ~ i ~ '.png') }}" alt="Bar Plot {{ i+1 }}">
                        </div>
                        <div class="flip-card-back">
                            <h3>Bar Plot {{ i }}</h3>
                            <p>This bar plot represents the frequency of categories in a specific dataset column. It helps to visualize the distribution of occurrences for different values within the selected column.</p>
                        </div>
                    </div>
                </div>
                
                {% endfor %}

                {% if num_images %}
                {% else %}
                <p>No images available.</p>
                {% endif %}
            </div>

        </section>
        <section id="source" class="fade-in"></section>
            <h2>Data Source</h2>
            <p>Data provided by Montgomery County, MD. <a href="https://data.montgomerycountymd.gov/Public-Safety/Crash-Reporting-Incidents-Data/bhju-22kf/about_data" target="_blank">View more</a>.</p>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Traffic Accident Data Visualization. All rights reserved.</p>
    </footer>
</body>
</html>
